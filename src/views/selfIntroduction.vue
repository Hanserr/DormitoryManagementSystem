<template>
  <div class="selfIntroduction">
<!--    è§†é¢‘èƒŒæ™¯-->
    <video src="../assets/video/video.mp4" autoplay="autoplay" loop="loop" ref="video" muted="muted" v-show="isLoaded"></video>
    <img src="../assets/img/selfIntroduction/bgvideo.png" alt="bg" v-show="!isLoaded" class="selfIntroduction-bgPic">
<!--    ä¸­é—´å†…å®¹éƒ¨åˆ†-->
    <div class="selfIntroduction-container">
<!--      é¡¶éƒ¨-->
      <div class="selfIntroduction-top" ref="selfIntroductionTop">
<!--        é¡¶éƒ¨å¤´åƒåŒºåŸŸ-->
        <div class="selfIntroduction-top-avatar">
          <img src="../assets/img/selfIntroduction/avatar.jpg" style="width: 80px;height: 80px;border-radius: 40px">
        </div>
        <span style="font-size: 20px;position: relative;left: 620px;top: -30px;color: #9b9b9b">-äººå½¢BUGåˆ¶é€ æœº-</span>
        <div class="selfIntroduction-top-banner" ref="topBanner">
          <div><img src="../assets/img/selfIntroduction/bilibili-autumn-1.jpg"></div>
          <div><img src="../assets/img/selfIntroduction/bilibili-autumn-2.jpg"></div>
          <div><img src="../assets/img/selfIntroduction/bilibili-autumn-3.jpg"></div>
          <div><img src="../assets/img/selfIntroduction/bilibili-autumn-4.jpg"></div>
          <div><img src="../assets/img/selfIntroduction/bilibili-autumn-5.jpg"></div>
          <div><img src="../assets/img/selfIntroduction/bilibili-autumn-6.jpg"></div>
        </div>
      </div>
<!--      ä¸­é—´-->
      <div class="selfIntroduction-middle">
        <div class="selfIntroduction-middle-favSinger">
          <div class="selfIntroduction-title" style="  border-radius: 10px;">
            <span style="font-size: 20px;position: relative;top: 20px;left: 20px;color: #cfadf3">EDMÃ—å›½é£</span>
          </div>
<!--        æ­Œæ‰‹è¯¦æƒ…-->
          <div class="selfIntroduction-middle-favSinger-detail">
            <div v-for="(detail,index) in favList" class="selfIntroduction-middle-favSinger-detail-son" :style="{background:'url('+(detail.src)+') no-repeat',backgroundSize:'200px 150px',boxShadow: index%2===0?'0 0 10px 5px #b2c8d9':'0 0 10px 5px #F7A997'}">
              <div class="selfIntroduction-middle-favSinger-detail-intro" >
                <span style="color: #ffffff">{{detail.name}}</span>
                <br>
                <span style="color: #cbf4f8;font-size: 15px">{{detail.intro}}</span>
              </div>
            </div>
              <Vbutton style="position: relative;top: 10px;left: -230px" value='Tomorrowland Official' width="200px" text-color="white" @click.native="toTomorrowland"></Vbutton>
              <Vbutton style="position: relative;top: -140px;left: 230px" value='UMF Official' width="200px" text-color="white" @click.native="toUMF"></Vbutton>
          </div>

        </div>
<!--è¿åŠ¨-->
        <div class="selfIntroduction-middle-favSport">
          <div class="selfIntroduction-title" style="  border-radius: 10px;">
            <span style="color: yellow;font-size: 20px;position: relative;top: 20px;left: 20px">ä¸åŒäºå¤§ä¼—åŒ–çš„çƒç±»è¿åŠ¨. å…¬è·¯è‡ªè¡Œè½¦çš„å±€é™æ€§æ³¨å®šäº†è¿™é¡¹è¿åŠ¨åªèƒ½æ˜¯å°‘æ•°äººçš„ç‹‚æ¬¢</span>
          </div>
          <div class="selfIntroduction-middle-favSport-bannerA" ref="bannerA" style="  border-radius: 10px;margin-top: 10px">
            <div style="position:relative;top: 650px;left: -250px;transition: 0.3s linear" ref="bannerATitle">
              <span style="font-weight: bold;color: white">Le Tour de France</span>
              <br>
              <span style="font-size: 50px;color: white;margin-top: 600px">ä¸€éª‘åŒ–èº«</span>
              <br>
              <span style="font-size: 50px;color: white">åŸå¸‚æ¢é™©å®¶</span>
              <br>
              <button style="border-radius: 5px;height: 40px;width: 120px;border: none;cursor: pointer" @click="toOfficial" >ç¯æ³•å®˜ç½‘</button>
              <button style="border-radius: 5px;height: 40px;width: 120px;border: none;cursor: pointer;margin-left: 5px" @click="toCNofficial">ç¯æ³•ä¸­å›½å®˜ç½‘</button>
            </div>
          </div>
          <div class="selfIntroduction-middle-favSport-bannerB" ref="bannerB" style="  border-radius: 10px;margin-top: 10px">
            <div style="position:relative;top: 650px;left: 1400px;transition: 0.3s linear" ref="bannerBtitle">
              <span style="font-size: 50px;color: white;margin-top: 600px">éª‘è¡Œè·¯ä¸Š</span>
              <br>
              <span style="font-size: 50px;color: white">å¹¶ä¸æ˜¯å­¤èº«ä¸€äºº</span>
            </div>
          </div>
        </div>
<!--æ‘„å½±-->
        <div class="selfIntroduction-middle-favPhotograph">
          <div class="selfIntroduction-title" style="  border-radius: 10px;margin-top: 30px">
            <span style="font-size: 20px;position: relative;top: 20px;left: 20px;color: #4cb3d2">ä¸è¦å¿˜äº†èµ°å‡ºå»æ„Ÿå—è¿™ä¸ªä¸–ç•Œçš„ç¾å¥½</span>
          </div>
          <div class="favPhotoC">
          </div>
          <div class="favPhotoA" style="border-radius: 10px;margin-top: 10px">
          </div>
          <div class="favPhotoB" style="border-radius: 10px;margin-top: 10px">
          </div>
        </div>
      </div>

      <div class="selfIntroduction-bottom" ref="bottom">
        <span ref="poemSpan" style="font-size: 40px;color: #4d4d4d;position: relative;top: 40px">{{this.poetry[0]}}</span>
      </div>
    </div>

  </div>
</template>

<script>
import Vbutton from "../components/Vbutton";
export default {
  name: "selfIntroduction",
  components: {Vbutton},
  data(){
    return{
      //æ­Œæ‰‹è¯¦æƒ…åˆ—è¡¨
      favList:[
        {name:'The Chainsmokers',src:require('../assets/img/selfIntroduction/chainsmokers.png'),intro:'ç¾å›½ç”µå­éŸ³ä¹ç»„åˆï¼Œç”±DJå…¼æ­Œæ‰‹Andrew Taggart ä»¥åŠDJ Alex Pall ç»„æˆ'},
        {name:'ILLENIUM',src:require('../assets/img/selfIntroduction/illenium.png'),intro: 'æ¥è‡ªç¾å›½ä¸¹ä½›çš„åˆ¶ä½œäººILLENIUMæ˜¯ç›®å‰æœ€æˆåŠŸçš„è·¨ç•Œç”µå­éŸ³ä¹è‰ºäººä¹‹ä¸€'},
        {name: 'Marshmello',src:require('../assets/img/selfIntroduction/marshmello.png'),intro: 'åŸåå…‹é‡Œæ–¯Â·åº·æ–¯æ‰˜å…‹ï¼ˆChris Comstockï¼‰ï¼Œç¾å›½DJã€ç”µéŸ³åˆ¶ä½œäºº'},
        {name: 'Vicetone',src:require('../assets/img/selfIntroduction/vicetone.png'),intro: 'æ¥è‡ªè·å…°æ ¼ç½—å®æ ¹çš„DJåŠç”µå­éŸ³ä¹åŒäººç»„ï¼Œç”±æˆå‘˜Ruben Den Boerå’ŒVictor Poolç»„æˆ'},
        {name: 'æ³ é¸¢yousa',src:require('../assets/img/selfIntroduction/yousa.png'),intro: 'è„±èƒäºä¸‰æ¬¡å…ƒçœŸäººçš„è™šæ‹Ÿè‰ºäººï¼Œä¸­å›½æœ¬åœŸåŸåˆ›æœ€å…·äººæ°”çš„è™šæ‹Ÿå¶åƒä¹‹ä¸€ã€‚ç²‰ä¸çˆ±ç§°å†·é¸Ÿ'},
        {name: 'åŒç¬™',src:require('../assets/img/selfIntroduction/shuangsheng.png'),intro: 'åŒç¬™ï¼Œæœ¬åé™ˆå…ƒæ±ï¼Œä¸­å›½å†…åœ°å¤é£å¥³æ­Œæ‰‹'},
        {name: 'Martin Garrix',src:require('../assets/img/selfIntroduction/martin.png'),intro: 'è·å…°DJã€éŸ³ä¹åˆ¶ä½œäººï¼Œæ¯•ä¸šäºèµ«å°”æ›¼è‚²å­¦é™¢'},
        {name: 'LinkinPark',src:require('../assets/img/selfIntroduction/linkinpark.png'),intro: 'æ—è‚¯å…¬å›­ï¼ˆLinkin Parkï¼‰ï¼Œç¾å›½æ‘‡æ»šä¹é˜Ÿï¼Œ1996å¹´æˆç«‹äºç¾å›½åŠ åˆ©ç¦å°¼äºšå·'},
        {name: 'ColdPlay',src:require('../assets/img/selfIntroduction/coldplay.png'),intro: 'é…·ç©ä¹é˜Ÿï¼ˆColdplayï¼‰ï¼Œè‹±å›½æ‘‡æ»šä¹é˜Ÿï¼Œ1996å¹´æˆç«‹äºä¼¦æ•¦'},
        {name: 'é–é‚£',src:require('../assets/img/selfIntroduction/sana.png'),intro: 'æ´»è·ƒäºniconicoåŠ¨ç”»ä¸Šçš„æ­Œã„æ‰‹ï¼Œ2010å¹´å¼€å§‹åœ¨niconicoåŠ¨ç”»ä¸ŠæŠ•ç¨¿ï¼Œä¸»æ‰“æ²»æ„ˆç³»å£°çº¿'},
        {name: 'Taylor Swift',src:require('../assets/img/selfIntroduction/TW.png'),intro: 'æ³°å‹’Â·æ–¯å¨å¤«ç‰¹ï¼Œå‡ºç”Ÿäºç¾å›½å®¾å¤•æ³•å°¼äºšå·ï¼Œç¾å›½å¥³æ­Œæ‰‹ã€è¯æ›²ä½œè€…ã€éŸ³ä¹åˆ¶ä½œäººã€æ¼”å‘˜'},
        {name: 'å¸å—',src:require('../assets/img/selfIntroduction/sinan.png'),intro: 'å¸å—ï¼Œä¸­å›½å†…åœ°å¥³æ­Œæ‰‹'},
      ],
      poetry:[
        'æƒŠèµ·å½’é¸¿ä¸æˆå­—ï¼Œè¾æŸ¯è½å¶æœ€çŸ¥ç§‹ã€‚',
        'æ˜å¤œæ‰èˆŸå»ï¼Œå’Œæœˆè½½ç¦»æ„ã€‚',
        'æ‰ªèæ­£æ„æˆ‘ï¼ŒæŠ˜æ¡‚æ–¹æ€å›ã€‚',
        'æ»¡å ‚èŠ±é†‰ä¸‰åƒå®¢ï¼Œä¸€å‰‘éœœå¯’åå››å·ã€‚',
        'ä¸€å¹´å°†å°½å¤œï¼Œä¸‡é‡Œæœªå½’äººã€‚',
        'ä¹ä¸‡é‡Œé£é¹æ­£ä¸¾ã€‚é£ä¼‘ä½ï¼Œè“¬èˆŸå¹å–ä¸‰å±±å»ï¼',
        'é£ç¿»ç™½æµªèŠ±åƒç‰‡ï¼Œé›ç‚¹é’å¤©å­—ä¸€è¡Œã€‚',
        'æ˜Ÿæ•£ç™½é¸¥ä¸‰å››ç‚¹ï¼Œæ•°ç¬”æ¨ªå¡˜ç§‹æ„ã€‚',
        'çœ‹ç™½é¹¤æ— å£°ï¼Œè‹äº‘æ¯å½±ï¼Œç‰©å¤–è¡Œè—ã€‚',
        'ç¦…å¤–æ›´æ— ä»Šå¤ï¼Œé†‰å½’æ˜æœˆåƒæ¾ã€‚',
        'æ­£ç¢§è½å°˜ç©ºï¼Œå…‰æ‘‡åŠå£ï¼Œæœˆåœ¨ä¸‡æ¾é¡¶ã€‚',
        'è´¾å²›å½¢æ¨¡å…ƒè‡ªç˜¦ï¼Œæœé™µè¨€è¯­ä¸å¦¨æ‘ã€‚',
        'é—®å‡ æ›¾å¤œå®¿ï¼Œæœˆæ˜èµ·çœ‹ï¼Œå‰‘æ°´æ˜Ÿçº¹ã€‚',
        'èµ·ç»•ä¸­åº­ç‹¬æ­¥ï¼Œä¸€å¤©æ˜Ÿæ–—æ–‡ç« ã€‚',
        'ç´«å£æ˜Ÿæœˆï¼Œç¦é˜¶ç¯ç«ï¼Œæœé©¬é—¹æ™¨é’Ÿã€‚',
        'é“é©¬æ™“å˜¶è¥å£å†·ï¼Œæ¥¼èˆ¹å¤œæ¸¡é£æ¶›æ€¥ã€‚',
        'é»„äº‘ä¸‡é‡ŒåŠ¨é£è‰²ï¼Œç™½æ³¢ä¹é“æµé›ªå±±ã€‚',
        'èš‚èšç¼˜æ§å¤¸å¤§å›½ï¼Œèšèœ‰æ’¼æ ‘è°ˆä½•æ˜“ã€‚',
        'è½æœˆæ»¡å±‹æ¢ï¼ŒçŠ¹ç–‘ç…§é¢œè‰²ã€‚',
        'ä¸‡å¸ç©¹åºäººé†‰ï¼Œæ˜Ÿå½±æ‘‡æ‘‡æ¬²å ã€‚',
        'äº‘æµ·å°˜æ¸…ï¼Œå±±æ²³å½±æ»¡ï¼Œæ¡‚å†·å¹é¦™é›ªã€‚',
        'ä¸œå¢æœˆï¼Œä¸€å¤©é£éœ²ï¼ŒæèŠ±å¦‚é›ªã€‚',
        'æµ®äº‘å¹ä½œé›ª ï¼Œä¸–å‘³ç…®æˆèŒ¶ã€‚',
        'çŸ­ç¯·å—æµ¦é›¨ï¼Œç–æŸ³æ–­æ¡¥çƒŸã€‚',
        'æ€€å®¶å¯’é£Ÿå¤œï¼Œä¸­é…’è½èŠ±å¤©ã€‚',
      ],
      isLoaded:false,
      poemTimer:null,
    }
  },
  methods:{
    //ç¯æ³•å®˜ç½‘
    toOfficial(){
      window.open("https://www.letour.fr")
    },
    //ç¯æ³•ä¸­å›½å®˜ç½‘
    toCNofficial(){
      window.open("http://www.china-letour.com")
    },
    //æ˜æ—¥ä¸–ç•Œå®˜ç½‘
    toTomorrowland(){
      window.open('https://www.tomorrowland.com/home/')
    },
    //UMFå®˜ç½‘
    toUMF(){
      window.open('https://www.ultramusicfestival.com')
    },
    // æ¨¡ä»¿bç«™ç§‹å­£ä¸»é¢˜banner
    // å¤´éƒ¨bannerç›‘å¬å™¨(æœªç†Ÿç»ƒæŒæ¡)
    changeImg(){
      const imgList = []
      for (let i = 1;i <= 6 ;i++){
        imgList.push(document.querySelector(`.selfIntroduction-top-banner :nth-child(${i}) img`))
      }
      this.$refs.topBanner.addEventListener('mousemove',(e)=>{
        //é¼ æ ‡xè½´/çª—å£å®½åº¦=å½“å‰é¼ æ ‡xè½´ä¸Šçš„ç™¾åˆ†æ¯”
        let percentage = e.clientX/window.outerWidth
        let ratio = 10*percentage
        let blur = 10
        //å¾ªç¯æ”¹å˜å›¾ç‰‡ä½ç§»å’Œæ¨¡ç³Š
        imgList.forEach((image,index) => {
          //ä½ç§»æ—¶å–æ¶ˆè¿‡æ¸¡
          image.style.transition = 'none'
          ratio *= 1.3
          //è¶Šé åçš„å›¾ç‰‡æ¨¡ç³Šåº¦è¶Šé«˜
          blur *= Math.abs((index+1) / 6 - percentage)
          image.style.transform = `translateX(${ratio}px)`
          image.style.filter = `blur(${blur}px)`
        })
      })
      //é¼ æ ‡ç¦»å¼€banneråè¿‡æ¸¡æ¢å¤åŸä½
      this.$refs.topBanner.addEventListener('mouseleave',(e) => {
        imgList.forEach((image) => {
        image.style.transition = '0.1s linear'
        image.style.filter = 'none'
        image.style.transform = 'none'
        })
      })
    },

    //ç›‘å¬æ»šåŠ¨æ¡é«˜åº¦ã€‚åŠ¨æ€è®¾ç½®æ ‡é¢˜ä½ç½®
    moveSlogan(){
      window.addEventListener("scroll",e=>{
        let i = document.documentElement.scrollTop || document.body.scrollTop
        if (i >= 856 && i <= 1666){
          this.$refs.bannerATitle.style.left = 100+'px'
        }else if (i <= 555 || i >= 1666){
          this.$refs.bannerATitle.style.left = -250+'px'
        }
        if (i >= 1704 && i <= 2616){
          this.$refs.bannerBtitle.style.left = 900+'px'
        }else if (i >= 2617 || i <= 1380){
          this.$refs.bannerBtitle.style.left = 1300+'px'
        }
      })
    },

    //èƒŒæ™¯è§†é¢‘åŠ è½½å®Œæˆåå†æ˜¾ç¤ºï¼Œå¦åˆ™æ˜¾ç¤ºå›¾ç‰‡
    canPlay(){
      this.$refs.video.oncanplaythrough = (e) => {
        this.isLoaded = true
      }
    },

    //è¯—æ­Œåˆ·æ–°
    flushPoem(){
      let sum = 0
      this.poemTimer = setInterval((e) => {
        if (sum === this.poetry.length-1){
          sum = 0
        }
        this.$refs.poemSpan.innerText = this.poetry[sum]
        sum++
      },30000)
    },

  },
  //æŒ‚è½½ç»“æŸåæ‰§è¡Œçš„å‡½æ•°
  mounted() {
    this.canPlay()
    this.moveSlogan()
    this.changeImg()
    this.flushPoem()
    console.log("%c%s",'color:red','ä¸‰ç™¾å…­åè¡Œï¼Œè¡Œè¡Œå‡ºBUG ğŸŒ')
  },
  //é”€æ¯ç»„ä»¶å‰æ¸…é™¤å®šæ—¶å™¨
  beforeDestroy() {
    clearInterval(this.poemTimer)
  }
}
</script>

<style scoped>
@import "../assets/css/selfIntroduction.css";
.selfIntroduction-top-banner div{
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
}
.selfIntroduction-top-banner img{
  display: block;
  width: 130%;
  height: 100%;
  vertical-align: middle;
  object-fit: cover;
}
</style>
